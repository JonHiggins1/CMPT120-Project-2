<!DOCTYPE html>
<html>
	<head>
	<!-- Jon Higgins 10/23
	Introduction to Programming
	Project 3 game- V.04 -->
	
	<title>Come out to play</title>
    <style type= "text/css">
      body {  background-image:url(http://canadianonlinegamers.com/wp-content/uploads/2012/08/Max-Payne-Disorganized-600x337.jpg);
              background-position:bottom right;
              background-repeat: no-repeat;
              background-attachment:fixed;
              background-color:#121212;
             }
     </style>
     <style>
			.Higgins{font-family:Magneto ; font-weight:bold ; color:#ffffff ; font-size:50px;}
			.Jon{font-family:Magneto ; font-weight:bold ; color:#ffffff ; font-size:15px;}
      </style>
    
		<script type="text/javascript">
			
			var north = 1;
      var south = 2;
      var east  = 3;
      var west  = 4;
      var score = 0;
      var currentlocation = 0;
     
       function move_north() {
        if (currentlocation === 0) {
            currentlocation = 1;
            } else if (currentlocation === 2) {
                        currentlocation = 0;
                        }
             else if (currentlocation == 1) {
                       currentlocation = 5;
                        }
                        }
       function move_south() {
        if (currentlocation === 0) {
            currentlocation = 2;
            } else if (currentlocation === 1) {
                        currentlocation = 0;
                        }
              else if (currentlocation === 5) {
                        currentlocation = 1;
                        }
                        }
        function move_east() {
          if (currentlocation === 0) {
            currentlocation = 3;
            } else if (currentlocation === 4) {
                        currentlocation = 0;
                        }
                        }
       function move_west() {
        if (currentlocation === 0) {
            currentlocation = 4;
            } else if (currentlocation === 3) {
                        currentlocation = 0;
                        }
                        }
  
        function updateText(msg) {
          msg = msg + "[" + currentlocation + "]";
          var ta = document. getElementById ("taGame");
            ta.value = msg + "\n" + ta.value;
            }
     
       function btn_thing_click(btnNum) {
            if (btnNum ===  1) {
              move_north();
            if (currentlocation === 5) {
              var msg = "You walk toward the box Shaped building, only to find that it is a Bar that has been locked up...from the outside. The Neon lights flicker on and off. There is a dumpster on the east side of the building.";
                updateText(msg); 
                }
                score = score + 5;
            if (currentlocation === 1) {
              var msg = "You walk North and see a box shaped building a little ahead of you."; 
                updateText(msg);
                }
                score = score + 5;
               } else 
             if (btnNum === 2) {
                move_south();
                score = score + 5;
              var msg = "You walked south, there is a man standing alone under a flickering street light."; 
                updateText(msg);
               } else 
               if (btnNum === 3) {
                move_east();
                score = score + 5;
               var msg = "You look east and you see a lone car in this large abandoned parking lot. While you walk up to this car you notice there is a chainsaw and satchel in the backseat."; 
                  updateText(msg);
               } else 
                if (btnNum === 4){
                  move_west();
                  score = score + 5;
                  var msg = "You walk west and find a rusty Shopping cart that has Ducttape and a crowbar."; 
                updateText(msg); 
               } else {
              alert("This should never happen.");
                } 
                } 
             
                function btn_Go_click(){
                  var txt = document.getElementById("txtCommand");
                  var num= parseInt(txt.value);
                    for (var i=0; i < num; i=i+1) {
                      alert("loop: "+ i);
                       btn_thing_click(i);
                      }
                      }

        function Btn_Score_Click(){
        alert(score);
        }
      
       function btn_go_click() {
        var userinput = document.getElementById("txtInput").value;
          if (( userinput === "n") || (userinput === "N")) {
              btn_thing_click(1);
          }  else if (( userinput === "s") || (userinput === "S")) {
              btn_thing_click(2);
          } else if (( userinput === "e") || (userinput === "E")) {
              btn_thing_click(3);
          } else if (( userinput === "w") || (userinput === "W")) {
              btn_thing_click(4);
          } else { var msg = "Invalid. Use a directional command.";
              updateText(msg);
          }
          }
		</script>
 
	</head>
   <body> 
      <p class="Higgins">
        Revenge: Best Served Cold.
      </p>
      <br>
      <textarea id= "taGame"
        rows="6" cols="50"> You are standing in a vacant parking lot that seems as though it has been deserted for quite some time. To the north is a box shaped building that is illuminated with pink neon lights.</textarea>
      <br>   
      
        <p class="Jon">
          Enter Command:
        </p>
        <Input type="text"  
          onKeyDown= "if (event.keyCode == 13) document.getElementById('enterButton').click()"
          id="txtInput">
       
       <input type="button"
            id="enterButton"
            value="Go"
            onclick="btn_go_click();">
             
        <br>
     
        <input type="button"
          value="North"
          id="btn_north"
          onclick="btn_thing_click(north);">

          <input type="button"
              value="South"
              id="btn_south"
              onclick="btn_thing_click(south);">  
               
           <input type="button"
              value="East"
              id="btn_east"
              onclick="btn_thing_click(east);">

          <input type="button"
              value="West"
              id="btn_west"
              onclick="btn_thing_click(west);"> 
            <br>
            <br>
            
          <input type= "button" 
            value= "Score"  
            onclick= "Btn_Score_Click()" />
            <br>
            <br>
    
        <a href= "mailto:Jonathan.Higgins1@marist.edu">
          E-mail me with questions.
        </a>
 
    </body>
</html>